<!DOCTYPE html>
<html>
	<head>
		{% load static %}
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script type = "text/javascript" src = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Scope+One" rel="stylesheet">
		
		{% if owner != None %}
			<title> {{ owner }}'s Gallery </title>
		{% else %}
			<title>The Gallery</title>
		{% endif %}
		
	</head>
	<body>
		
		<div id='banner'>
			{% if owner != None %}
				<h1> {{ owner }}'s Gallery </h1>
			{% else %}
				<h1>The Gallery</h1>
			{% endif %}
			<p id='sign-out'>Sign Out</p>
		</div>
		
		
		<div id='content'>
			
			<div id='header'>
				<a href='/whiteboard/{{ user.username }}'>
					<div id='profile'>
						<img src="{% static 'icons/profile.png' %}">
					</div>
				</a>
				<a href='/whiteboard'>
					<div id='home'>
						<img src="{% static 'icons/home.png' %}">
					</div>
				</a>
				<a href=#>
					<div id='search'>
						<img src="{% static 'icons/search.png' %}">
					</div>
				</a>
				<a href=#>
					<div id='sort'>
						<img src="{% static 'icons/sort.png' %}">	
					</div>
				</a>
				<input type="text" style='display: none'>
			</div>
			
			{% for board in boards %}
			
			<a href='/whiteboard/{{ board.owner }}/{{ board.id }}'>
				<div class='board'>
					<h4 class='title'> {{ board.title }} </h4>
					<a class='owner' href='/whiteboard/{{ board.owner }}'> {{ board.owner }} </a>
					<div class='frame' style='background: {{ board.frame }}; border-color: {{ board.border }}'>
						<img class='thumbnail' src="{% static '240x160.png' %}">
					</div>
				</div>
			</a>
			
			{% endfor %}
			
		</div>
		
	</body>
</html>
<style>

	body {
		background: url({% static 'patterns/upfeathers.png' %});
		font-family: 'Scope One', serif;
		text-align: center;
	}
	
	a {
		text-decoration: none;
		color: #1E1D1C;
	}
	
	body > div {
		width: 80%;
		background: #FFFDF8;
		border: 3px solid #EEE9DE;
		font-size: 20px;
		margin: auto;
		margin-bottom: 50px;
		margin-top: 30px;
	}
	
	#content {
		min-height: 1000px;
	}
	
	.thumbnail {
		width: 240px;
		height: 160px;
	}
	
	.board {
		width: 32%;
		float: left;
		padding-bottom: 20px;
		margin: .66%;
		cursor: pointer;
		overflow: hidden;
		text-overflow: ellipsis;
	}
	
	.board > .title, .board > .owner {
		max-width: 90%;
		white-space: nowrap;
		text-overflow: ellipsis;
		margin: auto;
		margin-bottom: 10px;
		margin-top: 10px;
		display: block;
		overflow: hidden;
	}
	
	.frame {
		padding: 10px;
		border: 2px solid;
		width: 240px;
		height: 160px;
		margin: auto;
	}
	
	#header > * {
		float: left;
		width: 24%;
		margin: 0.5%;
		height: 60px;
		border-bottom:  1px solid #00000000;
	}
	
	#header img {
		height: 40px;
	}
	
	#header div {
		height: 40px;
		margin: 10px;
	}
	
	#sign-out {
		position: absolute;
		float: left;
		cursor: pointer;
		text-decoration: underline;
		color: #EEE9DE;
		margin: 0;
		right: 140px;
		top: 115px;
	}
	
</style>
<script>

$(document).ready(function(){
	
	$('.board').mouseenter(function(e){
		
		$(e.currentTarget).css('background', '#F9F7F3');
	})
		.mouseleave(function(e){
		$(e.currentTarget).css('background', 'inherit');
	});
	
	$('#header > a').mouseenter(function(e){
		$(e.currentTarget).css('border-bottom', '1px solid #EEE9DE');
	})
		.mouseleave(function(e){
		$(e.currentTarget).css('border-bottom', '1px solid #00000000');
	});
	
	$('.board > .owner').mouseenter(function(e){
		$(e.currentTarget).css('text-decoration', 'underline');
	})
		.mouseleave(function(e){
		$(e.currentTarget).css('text-decoration', 'none');
	});
	
	$('#sign-out').click(function(e){
		$.post(
			'/whiteboard/logout',
			{
				'csrfmiddlewaretoken': document.getElementsByName('csrfmiddlewaretoken')[0].value
			},
			function(data){
				window.location.href = '/whiteboard/';
			}
		)
	});
});
	
</script>